openapi: 3.0.0
info:
  title: compagniaAereaAPI
  version: '1.0'
  description: È l'API Restful offerta dalla compagnia aerea che permette di fruire alla capability di restituire le offerte attive e di riceve la quota del pagamento del cliente.
servers:
  - url: 'https://stoplight.io/mocks/soseng-unibo/soseng-project-documentation/7424067'
    description: testing
paths:
  /flights:
    get:
      summary: Restituisci le offerte attive
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  flights:
                    type: array
                    uniqueItems: false
                    items:
                      type: object
                      properties:
                        departure-from:
                          type: string
                        takeoff:
                          type: string
                        destination:
                          type: string
                        price:
                          type: object
                          properties:
                            amount:
                              type: number
                            currency:
                              type: string
                        offer_code:
                          type: string
                          description: Codice identificativo dell'offerta
                  companyname:
                    type: string
              examples:
                Esempio:
                  value:
                    flights:
                      - departure-from: BLQ
                        takeoff: '2020-04-27, 10.00AM, CET'
                        destination: BCN
                        price:
                          value: 100
                          currency: €
                        offer_code: ryan253
                    companyname: ryanflights
        '500':
          description: Internal Server Error
      operationId: get-flights
      description: È la risorsa che restituisce tutte le offerte di voli attive.
  /notifypayment:
    post:
      summary: Ricevi pagamento
      operationId: post-notifypayment
      responses:
        '200':
          description: OK
      security:
        - companytoken: []
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                offer_code:
                  type: string
                  description: Codice identificativo dell'offerta
                customer:
                  type: object
                  properties:
                    name:
                      type: string
                    email:
                      type: string
                amount_payed:
                  type: object
                  properties:
                    value:
                      type: number
                    currency:
                      type: string
                transaction:
                  type: object
                  properties:
                    date:
                      type: string
                    id:
                      type: number
            examples:
              Esempio:
                value:
                  offer_code: ryan253
                  customer:
                    name: Mario Rossi
                    email: mariorossi@gmail.com
                  amount_payed:
                    value: 100
                    currency: €
                  transaction:
                    date: '2020-05-22, 13.45PM, CET'
                    id: 2542
        description: ''
      description: È la risorsa che permette al fornitore dei servizi bancari di inviare alla compagnia aerea la quota del pagamento ricevuto dal cliente per l'acquisto dell'offerta.
components:
  schemas: {}
  securitySchemes:
    companytoken:
      name: abcd12!
      type: apiKey
      in: header
      description: Schema di sicurezza per permettere solo ai clienti opportunatamente autenticati di inviare il pagamento.
